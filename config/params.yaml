floor_removal_node:
  ros__parameters:
    # Input/Output Topics
    input_cloud_topic: "/lx_camera_node/LxCamera_Cloud"
    output_floor_cloud_topic: "/floor_cloud"
    output_no_floor_cloud_topic: "/no_floor_cloud"
    output_floor_cloud_voxelized_topic: "/floor_cloud_voxelized"
    output_no_floor_cloud_voxelized_topic: "/no_floor_cloud_voxelized"
    output_noise_cloud_topic: "/noise_cloud"

    # RANSAC Parameters
    ransac_distance_threshold: 0.02    # meters - inlier threshold
    ransac_max_iterations: 150         # RANSAC iterations

    # Floor Detection Region (Depth-based, Extrinsic-independent)
    # Camera frame: X=right, Y=down, Z=forward/depth
    floor_detection_min_depth: 0.3     # meters - min depth for floor detection
    floor_detection_max_depth: 2.0     # meters - max depth for floor detection
    min_points_for_plane: 50           # minimum points for RANSAC

    # Floor Plane Validation
    floor_normal_y_threshold: 0.7      # min abs(Y) of normal (0.7 ≈ 45° tolerance)

    # Floor Removal
    floor_removal_distance_threshold: 0.05  # meters - distance threshold
    floor_margin: 0.01                      # meters - safety margin

    # Voxel Grid Downsampling
    use_voxel_grid: true               # enable voxel downsampling
    voxel_leaf_size: 0.01              # meters - voxel size

    # Noise Removal
    enable_noise_removal: true         # enable outlier removal
    noise_radius_search: 0.05          # meters - search radius
    noise_min_neighbors: 5             # minimum neighbors to keep
    noise_plane_distance_margin: 0.15  # meters - filter near plane only

    # Detection Range
    max_detection_distance: 15.0       # meters - max distance from camera

    # Plane Stability
    enable_plane_stability: true       # enable plane stability validation
    max_plane_angle_change: 5.0        # degrees - max normal angle change per frame
    max_plane_distance_change: 0.05    # meters - max distance change per frame
